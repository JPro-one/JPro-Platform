import org.gradle.api.tasks.testing.logging.TestExceptionFormat

apply plugin: 'org.openjfx.javafxplugin'
apply plugin: 'jpro-gradle-plugin'

dependencies {
    implementation(project(":jpro-mdfx"))
    implementation "commons-io:commons-io:$COMMONS_IO_VERSION"
    implementation "io.github.mkpaz:atlantafx-base:$ATLANTAFX_VERSION"
    implementation "org.slf4j:slf4j-api:$SLF4J_API_VERSION"
    runtimeOnly "ch.qos.logback:logback-classic:$LOGBACK_VERSION"
}

javafx {
    version = "$JAVAFX_VERSION"
    modules = ['javafx.graphics', 'javafx.controls', 'javafx.fxml', 'javafx.media', 'javafx.swing', 'javafx.web']
}

mainClassName = 'one.jpro.platform.mdfx.example.MarkdownViewSample'

application {
    mainClass = "$mainClassName"
    mainModule = moduleName
    applicationDefaultJvmArgs = [
            "--add-exports", "javafx.base/com.sun.javafx.event=one.jpro.platform.media"
    ]
}

test {
    useJUnitPlatform()

    testLogging.showStandardStreams = true
    testLogging.exceptionFormat TestExceptionFormat.FULL
    testLogging.showExceptions true
    testLogging.showCauses true
    testLogging.showStackTraces true
}